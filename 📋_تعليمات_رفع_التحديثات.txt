========================================
   📤 تعليمات رفع التحديثات إلى Render.com
========================================

✅ التحديثات التي تم إجراؤها:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. ✅ إصلاح حساب الخصم في الواجهة الأمامية
   - تم تعديل: frontend/src/pages/ProductDetail.jsx
   - تم تعديل: frontend/src/pages/Home.jsx
   - الآن يتم حساب الخصم كمبلغ ثابت وليس نسبة مئوية

2. ✅ إصلاح السلة لتأخذ السعر المخصوم
   - تم تعديل: frontend/src/pages/ProductDetail.jsx
   - تم تعديل: frontend/src/pages/Home.jsx
   - الآن عند إضافة منتج للسلة، يتم حفظ السعر المخصوم الصحيح

3. ✅ فصل الطلبات الجديدة عن الطلبات المعالجة
   - تم تعديل: orders/admin.py
   - تم تعديل: backend/ecom_project/admin.py
   - الآن يوجد قسمان منفصلان:
     * 📥 الطلبات الجديدة (pending فقط)
     * 📦 الطلبات (confirmed, shipped, delivered, cancelled)
   - عند تأكيد أو إلغاء طلب، ينتقل تلقائياً من "الطلبات الجديدة" إلى "الطلبات"

4. ⚠️ مشكلة الصور (تحتاج إلى إجراء يدوي)
   - الصور المخزنة على ImgBB تختفي بعد فترة
   - الحل الموصى به: التحويل إلى Cloudinary
   - راجع ملف: 📋_حل_مشكلة_الصور_ImgBB.txt

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📤 خطوات رفع التحديثات إلى Render.com:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

الطريقة 1: رفع عبر Git (الموصى بها)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. افتح PowerShell في مجلد المشروع:
   cd C:\Users\a\Desktop\ecom_setup\ecom_project\ecom_project

2. تأكد من أن Git مهيأ:
   git status

3. إضافة جميع التغييرات:
   git add .

4. عمل commit للتغييرات:
   git commit -m "إصلاح حساب الخصم والسلة وفصل الطلبات الجديدة"

5. رفع التغييرات إلى GitHub:
   git push origin main

6. Render.com سيقوم تلقائياً بسحب التحديثات ونشرها

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

الطريقة 2: إعادة النشر اليدوي من Render Dashboard
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. اذهب إلى: https://dashboard.render.com

2. اختر خدمة Backend الخاصة بك

3. اضغط على "Manual Deploy" > "Deploy latest commit"

4. انتظر حتى يكتمل النشر (قد يستغرق 5-10 دقائق)

5. كرر نفس الخطوات لخدمة Frontend

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

⚠️ ملاحظات مهمة:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. تأكد من رفع كل من Backend و Frontend

2. بعد رفع Backend، قد تحتاج إلى تشغيل migrations:
   - اذهب إلى Render Dashboard
   - افتح Shell للـ Backend
   - نفذ: python manage.py migrate

3. إذا كانت هناك مشاكل في الصور:
   - راجع ملف: 📋_حل_مشكلة_الصور_ImgBB.txt
   - يُنصح بالتحويل إلى Cloudinary

4. بعد النشر، اختبر:
   ✓ حساب الخصم في صفحة المنتج
   ✓ إضافة منتج مخصوم للسلة
   ✓ الطلبات الجديدة في لوحة الإدارة
   ✓ نقل الطلبات بين الأقسام

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔧 استكشاف الأخطاء:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

إذا واجهت مشاكل بعد النشر:

1. تحقق من Logs في Render Dashboard:
   - Backend Logs
   - Frontend Logs

2. تأكد من أن Environment Variables صحيحة:
   - DEBUG=False
   - ALLOWED_HOSTS يحتوي على نطاق موقعك
   - DATABASE_URL صحيح

3. إذا كانت الصور لا تظهر:
   - تحقق من أن روابط ImgBB صحيحة
   - فكر في التحويل إلى Cloudinary

4. إذا كانت الطلبات الجديدة لا تظهر:
   - تأكد من تشغيل migrations
   - تحقق من أن الطلبات الجديدة لها status='pending'

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📞 للمساعدة:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

إذا واجهت أي مشاكل، تواصل معي وأرسل:
1. رسالة الخطأ من Logs
2. لقطة شاشة للمشكلة
3. الخطوات التي قمت بها

========================================